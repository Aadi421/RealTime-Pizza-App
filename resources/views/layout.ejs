<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Realtime pizza app</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

        <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet"> 
        <link href="/css/app.css" rel="stylesheet">    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css">
        <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
        <script rel="script" src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
        <!-- <script src="https://cdn.socket.io/4.0.0/socket.io.min.js" integrity="sha384-DkkWv9oJFWLIydBXXjkBWnG1/fuVhw8YPBq37uvvD6WSYRFRqr21eY5Dg9ZhmWdy" crossorigin="anonymous"></script> -->
        
        <%- style %>
    </head>
    <body>
        <nav class="container mx-auto flex items-center justify-between py-4 ">
            
            <div>
                <a href="/"><img src="/img/logo.png" alt="logo"></a>
            </div>
            <div>
                <ul class="flex items-center ">
                    <li class="ml-6"><a href="/">Menu</a></li>
                    <li class="ml-6"><a href="#">Offers</a></li>
                    <%if(locals.user){%>
                    <li class="ml-6">
                    <a href="/logout">Logout</a>
                    </li>
                    <%}else{%>
                    <li class="ml-6"><a href="/register">Register</a></li>
                    <li class="ml-6"><a href="/login">Login</a></li>
                    <%}%>
                    <li class="ml-6"><a href="/cart" class="inline-block px-4 py-2 rounded-full flex items-center">
                        <img src="/img/cart.png" alt="cart">
                        <span id="cartCounter" class="text-white font-bold pl-1 pb-4"><%=session.cart ? session.cart.totalQty :''%></span>
                        
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        
        <%- body %>

        <%- script %>
    <script src="/socket.io/socket.io.js"></script>
     <script src="/js/app.js"></script>
     <script>

            <%if(flash.success && flash.success.length>0) {%>
               new Noty({
                          theme:'relax',
                          text: "<%=flash.success%>",
                          type:'success',
                          layout:'topRight',
                          timeout:1500,

    
                        }).show();
           <%}%>

           <% if (flash.error && flash.error.length > 0) {%>
                new Noty({
                    theme: 'relax',
                    text: "<%= flash.error %>",
                    type: 'error',
                    layout: 'topRight',
                    timeout: 1500
                    
                }).show();    
            <%} %>

     </script>
    </body>
</html>